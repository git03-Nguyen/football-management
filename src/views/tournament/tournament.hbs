{{> tournament-header}}
<div class="bg-white-color px-5 py-5 text-center">
  <div class="row mx-5">
    <div class="col-4">
      <div>
        <!-- Top scorers -->
        <div class="d-flex align-items-center text-primary-color mb-3">
          <i class="fas fa-futbol fa-2x me-2"></i>
          <p class="h5 m-0 fw-bold ">Top ghi bàn</p>
        </div>
        <div class="row row-cols-3 mb-3">
          {{#each stats.topScorers}}

          <div class="col text-center top-scorer">
            <div class="position-relative">
              <img src="/img/teams/{{this.teamId}}/{{this.name}}.png" alt=""
                class="avatar mb-2 rounded-circle border border-2" height="100" width="100">
              <span class="position-absolute bg-primary-color rounded-circle">{{this.number}}</span>
              <a href="/teams/{{this.teamId}}">
                <img src="/img/teams/{{this.teamId}}/info/logo.png" alt=""
                  class="position-absolute rounded-circle border border-2" height="30" width="30">
              </a>
            </div>
            <a href="/teams/{{this.teamId}}/players/{{this.number}}" class="text-decoration-none">
              <p class="m-0 w-100 text-wrap">{{this.name}}</p>
            </a>
          </div>

          {{/each}}

        </div>
        <a href="/tournament/statistics">
          <button class="btn btn-primary w-100 mb-5">
            <i class="fas fa-chart-line me-2"></i>
            Thống kê chi tiết
          </button>
        </a>

        <!-- Leaderboard -->
        <div class="d-flex align-items-center text-primary-color mb-3">
          <i class="fas fa-medal fa-2x me-2"></i>
          <p class="h5 m-0 fw-bold ">Bảng xếp hạng</p>
        </div>
        <table class="table table-hover rounded mb-3">
          <tbody>

            {{#each stats.leaderboard}}

            <tr>
              <th scope="row" class="py-2 pt-3 fw-normal text-start">{{#sum @index 1}}{{/sum}}</th>
              <td class="py-2 pt-3">
                <div class="d-flex align-items-center">
                  <img src="/img/teams/{{this.teamId}}/info/logo.png" alt="" class="me-2" height="25" width="25">
                  <a href="/teams/{{this.teamId}}" class="text-decoration-none h6 align-bottom mb-0">{{this.name}}</a>
                </div>
              </td>
              <td class="py-2 pt-3 fw-bold text-end">{{this.score}} điểm</td>
            </tr>

            {{/each}}

          </tbody>
        </table>
        <a href="/tournament/teams">
          <button class="btn btn-primary w-100 mb-5">
            <i class="fas fa-medal me-2"></i>
            Xem chi tiết
          </button>
        </a>


        <!-- Recent schedules -->
        <div class="d-flex align-items-center text-primary-color mb-3">
          <i class="far fa-calendar fa-2x me-2"></i>
          <p class="h5 m-0 fw-bold ">Lịch thi đấu gần nhất</p>
        </div>
        <table class="table table-hover rounded mb-3">
          <tbody>

            {{#each stats.recentSchedules}}

            {{#if this.isPlayed}}

            <tr>
              <td class="pb-0 pt-1 align-middle" style="height:55px !important;">
                <div class="d-flex align-items-center justify-content-end">
                  <a href="/teams/{{this.teamId1}}"
                    class="text-decoration-none h6 align-bottom mb-0 d-inline-block text-truncate"
                    style="max-width:120px;">{{this.name1}}</a>
                  <img src="/img/teams/{{this.teamId1}}/info/logo.png" alt="" class="ms-2" height="25" width="25">
                </div>
              </td>
              <td class="pb-0 pt-1 align-middle" style="height:55px !important;">
                <div class="d-flex align-items-center justify-content-center text-center">
                  <a href="/tournament/matches/{{this.matchId}}" class="text-decoration-none">
                    <p class="m-0 fw-bold text-nowrap text-danger">{{this.score1}} - {{this.score2}}</p>
                  </a>
                </div>
              </td>
              <td class="pb-0 pt-1 align-middle" style="height:55px !important;">
                <div class="d-flex align-items-center">
                  <img src="/img/teams/{{this.teamId2}}/info/logo.png" alt="" class="me-2" height="25" width="25">
                  <a href="/teams/{{this.teamId2}}"
                    class="text-decoration-none h6 align-bottom mb-0 d-inline-block text-truncate"
                    style="max-width:120px;">{{this.name2}}</a>
                </div>
              </td>
            </tr>

            {{else}}

            <tr>
              <td class="pb-0 pt-1 align-middle" style="height:55px !important;">
                <div class="d-flex align-items-center justify-content-end">
                  <a href="/teams/{{this.teamId1}}"
                    class="text-decoration-none h6 align-bottom mb-0 d-inline-block text-truncate"
                    style="max-width:120px;">{{this.name1}}</a>
                  <img src="/img/teams/{{this.teamId1}}/info/logo.png" alt="" class="ms-2" height="25" width="25">
                </div>
              </td>
              <td class="pb-0 pt-1 align-middle" style="height:55px !important;">
                <div class="d-flex align-items-center justify-content-center text-center">
                  <a href="/tournament/matches/{{this.matchId}}" class="text-decoration-none text-success">
                    <p class="m-0 text-nowrap">{{this.time}}</p>
                    <hr class="hr hr-blurry m-0 p-0" />
                    <p class="m-0 text-nowrap">{{this.date}}</p>
                  </a>
                </div>
              </td>
              <td class="pb-0 pt-1 align-middle" style="height:55px !important;">
                <div class="d-flex align-items-center">
                  <img src="/img/teams/{{this.teamId2}}/info/logo.png" alt="" class="me-2" height="25" width="25">
                  <a href="/teams/{{this.teamId2}}"
                    class="text-decoration-none h6 align-bottom mb-0 d-inline-block text-truncate"
                    style="max-width:120px;">{{this.name2}}</a>
                </div>
              </td>
            </tr>

            {{/if}}

            {{/each}}

          </tbody>
        </table>

        <a href="/tournament/matches">
          <button class="btn btn-primary w-100  ">
            <i class="far fa-calendar me-2"></i>
            Xem tất cả
          </button>
        </a>

      </div>
    </div>
    <div class="col-8 ps-4">
      <!-- league banner -->
      <img src="{{tournament.banner}}" alt="" class="w-100 mb-4">

      <!-- league info -->
      <div class="d-flex align-items-center text-primary-color mb-3">
        <i class="fas fa-chart-line fa-2x me-2"></i>
        <p class="h5 m-0 fw-bold ">Thống kê tổng quát</p>
      </div>
      <div class="row m-0 mb-4" style="height: 28vw;">
        <div class="col-3 p-0 pe-3">
          <div class="h-100 text-light d-flex flex-column justify-content-around" style="background-color: #34A853;">
            <i class="fa fa-users fa-5x "></i>
            <div class="d-flex justify-content-around align-items-end">
              <p class="h5 fw-bold text-center">Số cầu thủ<br /> trong giải đấu</p>
              <p class="h5 fw-bold ">{{stats.totalPlayers}}</p>
            </div>
          </div>
        </div>
        <div class="col-9 p-0">
          <div class="row m-0 h-50 pb-3">
            <div class="col-4 p-0 pe-3">
              <div class="h-100 text-light d-flex flex-column justify-content-around"
                style="background-color: #FBBC05;">
                <img src="/img/icons/ic-goal.svg" alt="" height="80">
                <div class="d-flex justify-content-around align-items-end">
                  <p class="h5 fw-bold text-center">Tổng số<br /> bàn thắng</p>
                  <p class="h5 fw-bold ">{{stats.totalGoals}}</p>
                </div>
              </div>
            </div>
            <div class="col-4 p-0 pe-3">
              <div class="h-100 text-light d-flex flex-column justify-content-around"
                style="background-color: #003071;">
                <img src="/img/icons/ic-stadium.svg" alt="" height="80">
                <div class="d-flex justify-content-around align-items-end">
                  <p class="h5 fw-bold text-center">Tổng số<br /> trận đấu</p>
                  <p class="h5 fw-bold ">{{stats.totalMatches}}</p>
                </div>
              </div>
            </div>
            <div class="col-4 p-0">
              <div class="h-100 text-light d-flex flex-column justify-content-around"
                style="background-color: #9747FF;">
                <img src="/img/icons/ic-ball.svg" alt="" height="80">
                <div class="d-flex justify-content-around align-items-end">
                  <p class="h5 fw-bold text-center">Bàn phản<br /> lưới nhà</p>
                  <p class="h5 fw-bold ">{{stats.ownGoals}}</p>
                </div>
              </div>
            </div>
          </div>
          <div class="row h-50 m-0 pt-1">
            <div class="col-8 p-0 pe-3">
              <div class="h-100 text-light d-flex flex-column justify-content-center"
                style="background-color: #FBBC05;">
                <p class="h5 fw-bold text-start px-3 mb-3">Trận có nhiều bàn nhất</p>
                {{#with stats.mostGoalsMatch}}

                <div class="d-flex align-items-center align-self-center mb-2">
                  <img src="/img/teams/{{this.teamId1}}/info/logo.png" alt="" class="me-2" height="35">
                  <a href="/teams/{{this.teamId1}}" class="text-decoration-none h5 fw-bold m-0">{{this.name1}}</a>
                </div>
                <a class="h5 fw-bold text-center mb-2 text-decoration-none" href="/matches/{{this.matchId}}">
                  {{this.score1}} - {{this.score2}}
                </a>
                <div class="d-flex align-items-center align-self-center">
                  <img src="/img/teams/{{this.teamId2}}/info/logo.png" alt="" class="me-2" height="35">
                  <a href="/teams/{{this.teamId2}}" class="text-decoration-none h5 fw-bold m-0">{{this.name2}}</a>
                </div>

                {{/with}}
              </div>
            </div>
            <div class="col-4 p-0">
              <div class="h-100 text-light d-flex flex-column justify-content-around"
                style="background-color: #1877F2;">
                <img src="/img/icons/ic-cards.svg" alt="" height="80">
                <div class="d-flex justify-content-around align-items-end">
                  <p class="h5 fw-bold text-center">Tổng số<br /> thẻ phạt</p>
                  <p class="h5 fw-bold ">{{stats.totalCards}}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- league introduction -->
      <div class="d-flex align-items-center text-primary-color mb-3">
        <i class="far fa-file-lines fa-2x me-2"></i>
        <p class="h5 m-0 fw-bold ">Giới thiệu về giải đấu</p>
      </div>
      <iframe src="{{stats.rulesLink}}" class="w-100 mb-4" height="400"></iframe>

      <!-- league place -->
      <div class="d-flex align-items-center text-primary-color mb-3">
        <i class="fas fa-location-dot fa-2x me-2"></i>
        <p class="h5 m-0 fw-bold ">Địa điểm tổ chức</p>
      </div>
      <div class="row row-cols-2 m-0">
        <div class="col text-start p-0 pe-4">
          <strong>Địa điểm: </strong>{{stats.place.name}}, {{stats.place.address}}
        </div>
        <div class="col p-0 ">
          <iframe src="{{stats.place.embedLink}}" class="border-0 w-100" height="200" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>


    </div>
  </div>
</div>